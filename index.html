<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/assets/css/style.css">
    <title>Can you guess the random number?</title>
</head>

<body>

    <header class="name">
        <h1>Crystal Collector</h1>
    </header>


    <div class="directions">

        <p>
            You will be given a random number at the start of the game.
        </p>

        <p>
            There are four crystals below. By clicking on the crystal you will add a specific amount of points to your
            total score.
        </p>

        <p>
            You win the game by matching your total score to random number, you lose the game if your total score goes
            above the random number.
        </p>

        <p>
            The value of each crystal is hidden from you until you click on it.
        </p>

        <p>
            Each time a game starts the value of the crystals will change.
        </p>

    </div>

    <div class="gameData">

        <h2>Number to guess: <span class="randomNum-text"></span></h2>

    </div>

    <div class="winLoss">

        <h3>Wins: <span class="wins-text"></span></h3>

        <h3>Losses: <span class="loss-text"></span></h3>

    </div>

    <div class="crystals">

        <img src="https://cdn10.bigcommerce.com/s-lltm6e/products/983/images/4341/tourmaline_blk__96589.1428770083.700.700.jpg?c=2"
            alt="black crystal" id="crystal-black" width="200" height="200">

        <img src="http://maggiesscienceconnection.weebly.com/uploads/5/1/0/5/5105330/801089655_orig.jpg" alt="white crystal"
            id="crystal-white" width="200" height="200">

        <img src="https://beadage.net/wp-content/uploads/2015/08/blue-zircon-crystal-gemstone-300x300.jpg" alt="blue crystal"
            id="crystal-blue" width="200" height="200">

        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLD_CWEdlGwkacpOvMKahkRKP7rMswjlEe6LHv5Ryxq4Rkoc_cRQ"
            alt="purple crystal" id="crystal-purple" width="200" height="200">

    </div>

    <div class="userData">

        <h3>Your total score is: <span class="userScore-text"></span></h3>


    </div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script type="text/javascript">

        $(document).ready(function () {

            var wins = 0;
            var losses = 0;
            var userScore = 0;
            var randomNum = Math.floor(Math.random() * 100) + 1;

            $(".randomNum-text").text(randomNum);

            function reset() {
                userScore = 0;
                randomNum = Math.floor(Math.random() * 100) + 1;
            }

            // When the black crystal is clicked it will add 5 to the user's score
            $("#crystal-black").on('click', function () {
                console.log(randomNum);

                userScore += 5;

                // if the user's score equals the random number generated from the cpu add 1 to their win and reset the random number and user's score
                if (userScore === randomNum) {

                    ++wins;

                    $(".wins-text").text(wins);

                    reset();

                    console.log(randomNum);

                    $(".randomNum-text").text(randomNum);

                    // if the user's score goes over the random number then add 1 to their losses and reset the random number and user's score
                } else if (userScore > randomNum) {

                    ++losses;

                    $(".loss-text").text(losses);

                    reset();

                    console.log(randomNum);

                    $(".randomNum-text").text(randomNum);
                }

                $(".userScore-text").text(userScore);

            });

            // DRY (I'm sorry but it works lol)
            $("#crystal-white").on('click', function () {
                console.log(randomNum);

                userScore += 5;

                if (userScore === randomNum) {

                    ++wins;

                    $(".wins-text").text(wins);

                    reset();

                    console.log(randomNum);

                    $(".randomNum-text").text(randomNum);

                } else if (userScore > randomNum) {

                    ++losses;

                    $(".loss-text").text(losses);

                    reset();

                    console.log(randomNum);

                    $(".randomNum-text").text(randomNum);
                }

                $(".userScore-text").text(userScore);

            });

            // DRY
            $("#crystal-blue").on('click', function () {
                console.log(randomNum);

                userScore += 5;

                if (userScore === randomNum) {

                    ++wins;

                    $(".wins-text").text(wins);

                    reset();

                    console.log(randomNum);

                    $(".randomNum-text").text(randomNum);

                } else if (userScore > randomNum) {

                    ++losses;

                    $(".loss-text").text(losses);

                    reset();

                    console.log(randomNum);

                    $(".randomNum-text").text(randomNum);
                }

                $(".userScore-text").text(userScore);

            });

            // DRY
            $("#crystal-purple").on('click', function () {
                console.log(randomNum);

                userScore += 5;

                if (userScore === randomNum) {

                    ++wins;

                    $(".wins-text").text(wins);

                    reset();

                    console.log(randomNum);

                    $(".randomNum-text").text(randomNum);

                } else if (userScore > randomNum) {

                    ++losses;

                    $(".loss-text").text(losses);

                    reset();

                    console.log(randomNum);

                    $(".randomNum-text").text(randomNum);
                }

                $(".userScore-text").text(userScore);

            });

            

            


        });
    </script>
</body>

</html>